<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Glyphie</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="container">
      <div id="wrapper">
        <!-- Sidebar Navigation -->
        <nav id="sidebar" role="navigation" aria-label="Main navigation">
          <div class="logo" aria-label="Glyphie logo">Glyphie</div>
          <button
            class="nav-btn active"
            data-section="characters"
            title="Characters"
            aria-pressed="true"
            role="tab"
            tabindex="0"
          >
            <span>üëæ</span> <span class="label">Agents</span>
          </button>
          <button
            class="nav-btn"
            data-section="snip"
            title="Snip Tool"
            aria-pressed="false"
            role="tab"
            tabindex="-1"
          >
            <span>‚úÇÔ∏è</span> <span class="label">Snip</span>
          </button>
          <button
            class="nav-btn"
            data-section="settings"
            title="Settings"
            aria-pressed="false"
            role="tab"
            tabindex="-1"
          >
            <span>‚öôÔ∏è</span> <span class="label">Settings</span>
          </button>
          <button
            class="nav-btn"
            data-section="stats"
            title="Usage Stats"
            aria-pressed="false"
            role="tab"
            tabindex="-1"
          >
            <span>üìä</span> <span class="label">Usage Stats</span>
          </button>
        </nav>
        <!-- Main Content -->
        <main
          id="main-content"
          role="main"
          aria-live="polite"
          aria-relevant="additions removals"
          tabindex="0"
        >
          <div class="chat-panel">
            <div class="chat-header">
              <img
                src="avatars/white.png"
                alt="Agent White avatar"
                class="chat-avatar"
              />
              <span class="chat-name">Agent White</span>
            </div>
            <div class="chat-history" id="chat-history">
              <!-- Chat messages will be appended here -->
            </div>
            <div class="chat-input-row">
              <textarea
                id="chat-input"
                placeholder="Ask or enter your prompt‚Ä¶"
                autocomplete="off"
                rows="1"
                style="
                  resize: none;
                  overflow: hidden;
                  width: 100%;
                  font-size: 1rem;
                  padding: 14px 20px;
                  border-radius: 18px;
                  border: 2.5px solid var(--button-bg);
                  background: var(--background-color);
                  color: var(--text-color);
                  outline-offset: 3px;
                "
              ></textarea>

              <button id="chat-send-btn">Send</button>
            </div>
          </div>
          <!-- Dynamic Content Sections -->
          <section id="characters-section" class="content-section"></section>
          <section id="stats-section" class="content-section hidden"></section>
          <section id="settings-section" class="content-section hidden">
            <h2>Settings panel coming soon!</h2>
            <div class="appearance-section">
              <h3>Appearance</h3>
              <div class="setting-item">
                <label for="theme-toggle" class="toggle-label"
                  >üåó Dark Mode:</label
                >
                <input type="checkbox" id="theme-toggle" class="toggle-input" />
                <span class="custom-slider"></span>
              </div>
            </div>
          </section>
          <section id="snip-section" class="content-section hidden">
            <div class="chat-panel">
              <div class="chat-header">
                <span>Snip Mode ‚úÇÔ∏è</span>
              </div>
              <div class="chat-history" id="snip-chat-history">
                <!-- Snip chat messages and attachments will appear here -->
              </div>
              <div class="chat-input-row">
                <button id="snip-btn" title="Start a new snip">Snip ‚úÇÔ∏è</button>
                <input
                  type="text"
                  id="snip-chat-input"
                  placeholder="Add a message (optional)..."
                  autocomplete="off"
                />
                <button id="snip-send-btn">Send</button>
              </div>
            </div>
          </section>
        </main>
      </div>
      <!-- Overlay and Toggle are siblings of #wrapper for best stacking order -->
      <div id="main-content-overlay"></div>
      <button
        id="sidebar-toggle"
        style="position: absolute; top: 10px; right: 10px"
      >
        ‚ò∞
      </button>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
